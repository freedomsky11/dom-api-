<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Page Title</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" media="screen" href="./main.css" />
</head>

<body onkeydown="keyListener(event)">
  <div class="container-fluid full-height">
    <div class="row full-height">
      <div class="col-xs-6 left full-height">
        <button type="submit" class="btn btn-info button" id="btn_submit" onclick="btnAction()">复制到微信(手动ctrl+c也可)</button>
        <h3>红小兵</h3>
        <div class="row">
          <div class="col-xs-8">
            <textarea class="form-control" rows="6" placeholder="Enter换行，Ctrl + Enter提交"></textarea>
          </div>
          <div class="col-xs-4">
            <button type="button" class="btn btn-info button">文本</button>
            <br />
            <button type="button" class="btn btn-info button">图片</button>
          </div>
        </div>
        <hr>
        <h3>兵小红</h3>
        <div class="row">
          <div class="col-xs-8">
            <textarea class="form-control" rows="6" placeholder="Enter换行，Ctrl + Enter提交"></textarea>
          </div>
          <div class="col-xs-4">
            <button type="button" class="btn btn-info button">文本</button>
            <br />
            <button type="button" class="btn btn-info button">图片</button>
          </div>
        </div>
        <hr>

      </div>
      <div class="col-xs-6 right full-height">
        <section id="target" class="demo">
          <section data="左气泡">
            <section style="width: 100%; background-repeat: no-repeat; box-sizing: border-box; background-size: 40px; background-image: url('http://mmbiz.qpic.cn/mmbiz_png/jFfUbqak7PTiaZ6SEWQib1KIsDNUnqp8r6vElwibqVWxfJnwYu3icJqbJfiajHxeTHc8l8H4tfvBCaI7OM4NDG8ws8A/0?wx_fmt=png'); padding: 5px 45px 10px 40px; background-position: 0% 0px;">
              <section style="margin: 0px 10px; text-align: left;">红小兵</section>
              <section style="background-repeat: no-repeat; background-size: 10px; box-sizing: border-box; overflow: hidden; background-image: url('https://mmbiz.qlogo.cn/mmbiz_png/DBwJzibicWPjH3uBYLQZwMwJWlic1qMauGpVTickVnziaRcrtkX6eyvSjLrj4rlgom1abT7Z7PG6ISHWMsXdFLibLVGQ/0?wx_fmt=png'); background-position: 0% 0%; padding: 0px 0px 0px 10px;">
                <section style="display: inline-block; max-width: 100%; min-height: 35px; padding: 5px 12px 6px; border-radius: 0px 5px 5px; color: rgb(255, 255, 255); font-size: 16px; word-break: normal; word-wrap: break-word; box-sizing: border-box; background-color: rgb(0, 184, 236);">
                  <p>你好</p>
                </section>
              </section>
            </section>
          </section>
          <section data="右气泡">
            <section style="width: 100%; background-repeat: no-repeat; box-sizing: border-box; background-size: 40px; background-image: url('http://mmbiz.qpic.cn/mmbiz_png/6ias4WNGRIJl3NKqzCVG5l1FNyicFfibNS8wcIMIxR5r9uMJukmm8zEW0ySoQl9PT6kZLiasdic9b864WVkwxiaNYI1g/0?wx_fmt=png'); padding: 5px 40px 10px 45px; background-position: 100% 0px;">
              <section style="margin: 0px 10px; text-align: right;">兵小红</section>
              <section style="background-repeat: no-repeat; background-size: 10px; box-sizing: border-box; overflow: hidden; background-image: url('https://mmbiz.qlogo.cn/mmbiz_png/DBwJzibicWPjH3uBYLQZwMwJWlic1qMauGpSIaBu48EGzekUomBmX2YumMSaISSZC8Im6ACOictt2bib6c8BHicGqOsA/0?wx_fmt=png'); background-position: 100% 0%; padding: 0px 10px 0px 0px;">
                <section style="display: inline-block; max-width: 100%; min-height: 35px; padding: 5px 12px 6px; border-radius: 5px 0px 5px 5px; color: rgb(255, 255, 255); font-size: 16px; word-break: normal; word-wrap: break-word; box-sizing: border-box; float: right; background-color: rgb(239, 110, 126);">
                  <p>Hello</p>
                </section>
              </section>
            </section>
          </section>
        </section>
      </div>
    </div>
  </div>
</body>
<script>
  console.log("000");
  let text;
  const btnAction = function () {
    console.log("111");
    text = document.getElementById("target");
    let selection = window.getSelection();
    let range = document.createRange();
    range.selectNode(text);
    selection.addRange(range);
    // text.select(); // 选择对象
    document.execCommand("Copy"); // 执行浏览器复制命令
    selection.removeAllRanges();
    alert("已复制好，可贴粘。");
  }

  function keyListener(event) {
    if (event.ctrlKey && event.keyCode === 67) {
      btnAction();
    }
  }
</script>

</html>